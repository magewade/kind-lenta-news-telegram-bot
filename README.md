# Kind Lenta.ru Telegram Bot

Этот проект представляет собой Telegram-бота, который парсит новости с сайта ****Lenta.ru****, используя тумблер **Добрая Лента**. Бот может выдавать новости по дням или по любому текстовому запросу. Для обработки запросов и поиска по теме используется модель **sberbank-ai/sbert_large_nlu_ru**.

Проект задеплоен на railway.com, поэтому инференс модели при поиске новости по теме может выполняться медленно.

## Описание

Бот позволяет пользователям:

- Получать новости с сайта **Лента.ру** на основе текстовых запросов.
- Искать новости по определённой дате.
- Работать с русскоязычными новостями с использованием модели для обработки естественного языка от **Сбербанка**.

## **Файлы:**

* `main.py`: Основной скрипт для запуска Telegram-бота, который обрабатывает сообщения и выполняет парсинг новостей.
* `parsing.py`: Скрипт для парсинга новостей, добавления их в базу и отстройки эмбеддингов.
* `news_database.db`: База данных SQLite для хранения новостей и эмбеддингов.
* `requirements.txt`: Содержит необходимые Python-пакеты и зависимости.
* `/database`: Папка:
  * `news_db.py`
* `/handler`: Папка:
  * `users.py`
* `/keyboards`: Папка:
  * `userkb.py`
* `/model`: Папка:
  * `embeddings.py`
  * `model.ipynb`

### Как это работает:

1. **Парсинг новостей**: Бот получает новости с сайта Лента.ру через парсинг и преобразует их в удобный формат для дальнейшего поиска.
2. **Поиск по запросу**: Бот использует модель **sberbank-ai/sbert_large_nlu_ru** для векторизации текста запросов и новостей. Это позволяет осуществлять быстрый и точный поиск по запросам пользователя.
3. **Ответы на запросы**: Бот обрабатывает запросы, возвращая список новостей, которые соответствуют введённым ключевым словам или дате.

## sberbank-ai/sbert_large_nlu_ru

**sberbank-ai/sbert_large_nlu_ru** — это модель для векторизации текста, обученная на большом количестве русскоязычных данных. Она основана на архитектуре **SBERT**, которая специально разработана для задач семантического поиска и классификации текстов. Модель преобразует текст в векторы фиксированной длины, что позволяет эффективно находить схожие тексты, а также использовать их для различных задач обработки естественного языка, таких как классификация, поиск и ответ на вопросы.

Модель **sberbank-ai/sbert_large_nlu_ru** отлично подходит для работы с русским языком, обеспечивая высокую точность при обработке запросов и поиске релевантных новостей.

Для запуска бота локально следуйте этим шагам:

```bash
$ git clone https://github.com/yourusername/kind-lenta-news-telegram-bot.git
$ cd  kind-lenta-news-telegram-bot
$ python -m venv venv
$ source venv/bin/activate   # Для Windows: venv\Scripts\activate
$ pip install -r requirements.txt
$ python model/parsing.py # To parse news
$ python main.py
```
